<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PILOT on PIGSTY</title><link>https://pigsty.cc/module/pilot/</link><description>Recent content in PILOT on PIGSTY</description><generator>Hugo</generator><language>zh-CN</language><atom:link href="https://pigsty.cc/module/pilot/index.xml" rel="self" type="application/rss+xml"/><item><title>模块：PILOT</title><link>https://pigsty.cc/docs/pilot/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pilot/</guid><description/></item><item><title>模块：DuckDB</title><link>https://pigsty.cc/docs/pilot/duckdb/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pilot/duckdb/</guid><description>&lt;p&gt;&lt;a href="https://github.com/duckdb/duckdb/"&gt;DuckDB&lt;/a&gt; 是一个高性能，嵌入式的分析数据库。&lt;/p&gt;
&lt;p&gt;DuckDB 是嵌入式数据库，不需要部署与服务化，只需要在节点上安装 DuckDB 软件包即可使用。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="安装"&gt;安装&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://pigsty.cc/docs/repo/infra/list"&gt;&lt;strong&gt;Pigsty Infra 仓库&lt;/strong&gt;&lt;/a&gt; 提供最新版本的 DuckDB RPM/DEB 包，直接安装即可。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./node.yml -t node_install -e &lt;span style="color:#4e9a06"&gt;&amp;#39;{&amp;#34;node_repo_modules&amp;#34;:&amp;#34;infra&amp;#34;,&amp;#34;node_packages&amp;#34;:[&amp;#34;duckdb&amp;#34;]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;使用 pig 安装：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pig repo add infra -u &lt;span style="color:#8f5902;font-style:italic"&gt;# 添加 Infra 仓库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pig install duckdb &lt;span style="color:#8f5902;font-style:italic"&gt;# 安装 DuckDB 包&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="相关资源"&gt;相关资源&lt;/h2&gt;
&lt;p&gt;Pigsty 为 PostgreSQL 提供了一些 DuckDB 相关的扩展插件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pgext.cloud/e/pg_analytics"&gt;&lt;strong&gt;&lt;code&gt;pg_duckdb&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;，由 DuckDB 官方 MotherDuck 和 Hydra 出品的扩展插件&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pgext.cloud/e/pg_mooncake"&gt;&lt;strong&gt;&lt;code&gt;pg_mooncake&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;，在 &lt;code&gt;pg_duckdb&lt;/code&gt; 扩展的基础上更进一步提供列式存储引擎与同步功能。&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pgext.cloud/e/pg_analytics"&gt;&lt;strong&gt;&lt;code&gt;pg_analytics&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;，旨在基于 DuckDB 提供高性能 OLAP 分析能力，已归档&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pigsty.cc/docs/pgsql/ext/"&gt;&lt;strong&gt;&lt;code&gt;duckdb_fdw&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;，DuckDB 外部数据源包装器，允许从PG中读写 DuckDB 数据文件，目前尚未更新&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>模块：TigerBeetle</title><link>https://pigsty.cc/docs/pilot/tigerbeetle/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pilot/tigerbeetle/</guid><description>&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://tigerbeetle.com/"&gt;TigerBeetle&lt;/a&gt; 是一个金融会计事务专用数据库，提供了极致性能与可靠性。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="概览"&gt;概览&lt;/h2&gt;
&lt;p&gt;TigerBeetle 模块目前仅在 Pigsty 专业版中提供 &lt;strong&gt;Beta&lt;/strong&gt; 试用预览。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="安装"&gt;安装&lt;/h2&gt;
&lt;p&gt;Pigsty Infra 仓库中提供了 TigerBeetle 的 RPM / DEB 软件包，使用以下命令即可完成安装：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./node.yml -t node_install -e &lt;span style="color:#4e9a06"&gt;&amp;#39;{&amp;#34;node_repo_modules&amp;#34;:&amp;#34;infra&amp;#34;,&amp;#34;node_packages&amp;#34;:[&amp;#34;tigerbeetle&amp;#34;]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;即可安装，然后请参考官方文档进行配置：https://github.com/tigerbeetle/tigerbeetle&lt;/p&gt;
&lt;div class="alert alert-danger" role="alert"&gt;&lt;div class="h4 alert-heading" role="heading"&gt;TigerBeetle需要Linux内核5.5以上版本！&lt;/div&gt;
&lt;p&gt;请注意，TigerBeetle 仅支持 Linux 内核 5.5 或更高版本，因此默认在 EL7 (3.10) / EL8 (4.18) 系统上无法使用。&lt;/p&gt;
&lt;p&gt;请使用 EL9 （5.14）， Ubuntu 22.04 (5.15)，或 Debian 12 (6.1) 与 Debian 11 (5.10)，或其他支持的系统来安装 Tiger Beetle&lt;/p&gt;
&lt;/div&gt;</description></item><item><title>模块：Kubernetes</title><link>https://pigsty.cc/docs/pilot/kube/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pilot/kube/</guid><description>&lt;p&gt;&lt;a href="https://kubernetes.io/"&gt;Kubernetes&lt;/a&gt; 是生产级无状态容器调度编排私有云平台。&lt;/p&gt;
&lt;p&gt;Pigsty 提供了原生的 &lt;a href="https://pigsty.cc/docs/etcd/"&gt;&lt;strong&gt;&lt;code&gt;ETCD&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt; 集群支持，可以供 Kubernetes 使用，因此也在专业版中提供了 &lt;strong&gt;&lt;code&gt;KUBE&lt;/code&gt;&lt;/strong&gt; 模块，用于部署生产级 Kubernetes 集群。&lt;/p&gt;
&lt;p&gt;Kubernetes 模块目前仅在 Pigsty Pro 专业版本中提供 Beta 预览，在开源版本中不可用。&lt;/p&gt;
&lt;p&gt;但您可以直接在 Pigsty 中指定节点仓库，安装 Kubernetes 软件包，并使用 Pigsty 调整环境配置，置备节点供 K8S 部署使用，解决交付的最后一公里问题。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="sealos"&gt;SealOS&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://sealos.io/"&gt;SealOS&lt;/a&gt; 是一个 Kubernetes 发行版，可以用于将整个 Kubernetes 集群打包制作为一个镜像在其他地方使用&lt;/p&gt;
&lt;p&gt;Pigsty 在 Infra 仓库中提供了 SealOS 5.0 的 RPM 与 DEB 安装包，可以直接下载安装，并使用 SealOS 管理集群。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./node.yml -t node_install -e &lt;span style="color:#4e9a06"&gt;&amp;#39;{&amp;#34;node_repo_modules&amp;#34;:&amp;#34;infra&amp;#34;,&amp;#34;node_packages&amp;#34;:[&amp;#34;sealos&amp;#34;]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="kubernetes"&gt;Kubernetes&lt;/h2&gt;
&lt;p&gt;如果您更喜欢使用经典的 Kubeadm 来部署 Kubernetes，请参考下面的 KUBE 模块参考。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./node.yml -t node_install -e &lt;span style="color:#4e9a06"&gt;&amp;#39;{&amp;#34;node_repo_modules&amp;#34;:&amp;#34;kube&amp;#34;,&amp;#34;node_packages&amp;#34;:[&amp;#34;kubeadm,kubelet,kubectl&amp;#34;]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Kubernetes 支持多种容器运行时，要使用 Containerd 容器运行时，请确保节点上已经安装了 Containerd 软件包。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./node.yml -t node_install -e &lt;span style="color:#4e9a06"&gt;&amp;#39;{&amp;#34;node_repo_modules&amp;#34;:&amp;#34;node,docker&amp;#34;,&amp;#34;node_packages&amp;#34;:[&amp;#34;containerd.io&amp;#34;]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;若要使用 Docker 作为容器运行时，您需要安装 Docker ，并使用 &lt;code&gt;cri-dockerd&lt;/code&gt; 项目桥接（EL9 / D11 / U20 尚不可用）：&lt;/p&gt;</description></item><item><title>模块：Consul</title><link>https://pigsty.cc/docs/pilot/consul/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pilot/consul/</guid><description>&lt;p&gt;Consul 是一个分布式 DCS + KV + DNS + 服务注册/发现的组件。&lt;/p&gt;
&lt;p&gt;在旧版本 （1.x） 的 Pigsty 里，默认使用 Consul 作为高可用的 DCS，现在该支持已经移除，但会在后续重新作为独立模块提供。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="配置"&gt;配置&lt;/h2&gt;
&lt;p&gt;要部署 Consul，您需要将所有节点的 IP 地址和主机名添加到 &lt;code&gt;consul&lt;/code&gt; 分组中。&lt;/p&gt;
&lt;p&gt;您至少需要指定一个节点的 &lt;code&gt;consul_role&lt;/code&gt; 为 &lt;code&gt;server&lt;/code&gt;，其他节点的 &lt;code&gt;consul_role&lt;/code&gt; 默认为 &lt;code&gt;node&lt;/code&gt;。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;consul:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; hosts:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 10.10.10.10: &lt;span style="color:#ce5c00;font-weight:bold"&gt;{&lt;/span&gt; nodename: meta , consul_role: server &lt;span style="color:#ce5c00;font-weight:bold"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 10.10.10.11: &lt;span style="color:#ce5c00;font-weight:bold"&gt;{&lt;/span&gt; nodename: node-1 &lt;span style="color:#ce5c00;font-weight:bold"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 10.10.10.12: &lt;span style="color:#ce5c00;font-weight:bold"&gt;{&lt;/span&gt; nodename: node-2 &lt;span style="color:#ce5c00;font-weight:bold"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 10.10.10.13: &lt;span style="color:#ce5c00;font-weight:bold"&gt;{&lt;/span&gt; nodename: node-3 &lt;span style="color:#ce5c00;font-weight:bold"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我们建议在严肃生产部署中使用奇数个 Consul Server，三个为宜。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="参数"&gt;参数&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#-----------------------------------------------------------------&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# CONSUL&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#-----------------------------------------------------------------&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;consul_role&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;node &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# consul role, node or server, node by default&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;consul_dc&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;pigsty &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# consul data center name, `pigsty` by default&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;consul_data&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;/data/consul &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# consul data dir, `/data/consul`&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;consul_clean&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;true&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# consul purge flag, if true, clean consul during init&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;consul_ui&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;false&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# enable consul ui, the default value for consul server is true&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>