<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MINIO on PIGSTY</title><link>https://pigsty.cc/module/minio/</link><description>Recent content in MINIO on PIGSTY</description><generator>Hugo</generator><language>zh-CN</language><atom:link href="https://pigsty.cc/module/minio/index.xml" rel="self" type="application/rss+xml"/><item><title>MINIO 集群模型</title><link>https://pigsty.cc/docs/concept/model/minio/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/concept/model/minio/</guid><description>&lt;p&gt;MinIO 模块在生产环境中以&lt;strong&gt;集群&lt;/strong&gt;的形式组织，这些&lt;strong&gt;集群&lt;/strong&gt;是由一组分布式 MinIO &lt;strong&gt;实例&lt;/strong&gt;组成的&lt;strong&gt;逻辑实体&lt;/strong&gt;，共同提供高可用的对象存储服务。&lt;/p&gt;
&lt;p&gt;每个集群都是一个&lt;strong&gt;自治&lt;/strong&gt;的 S3 兼容对象存储单元，由至少一个 &lt;strong&gt;MinIO 实例&lt;/strong&gt; 组成，通过 S3 API 端口向外暴露服务能力。&lt;/p&gt;
&lt;p&gt;在 Pigsty 的 MinIO 模块中有三种核心实体：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;集群&lt;/strong&gt;（Cluster）：自治的 MinIO 服务单元，用作其他实体的顶级命名空间。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;实例&lt;/strong&gt;（Instance）：单个 MinIO 服务器进程，在节点上运行，管理本地磁盘存储。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;节点&lt;/strong&gt;（Node）：运行 Linux + Systemd 环境的硬件资源抽象，隐含式声明。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;此外，MinIO 还有 &lt;a href="https://pigsty.cc/docs/minio/config#%E5%A4%9A%E6%B1%A0%E9%83%A8%E7%BD%B2"&gt;&lt;strong&gt;存储池&lt;/strong&gt;&lt;/a&gt;（Pool）的概念，用于集群平滑扩容。
一个集群可以包含多个存储池，每个存储池由一组节点和磁盘组成。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="部署模式"&gt;部署模式&lt;/h2&gt;
&lt;p&gt;MinIO 支持三种主要部署模式，适用于不同的场景：&lt;/p&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: center"&gt;模式&lt;/th&gt;
 &lt;th style="text-align: center"&gt;代号&lt;/th&gt;
 &lt;th style="text-align: left"&gt;说明&lt;/th&gt;
 &lt;th style="text-align: left"&gt;适用场景&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://pigsty.cc/docs/minio/config#%E5%8D%95%E6%9C%BA%E5%8D%95%E7%9B%98"&gt;&lt;strong&gt;单机单盘&lt;/strong&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;strong&gt;SNSD&lt;/strong&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;单节点，单个数据目录，或单块磁盘&lt;/td&gt;
 &lt;td style="text-align: left"&gt;开发、测试、演示&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://pigsty.cc/docs/minio/config#%E5%8D%95%E6%9C%BA%E5%A4%9A%E7%9B%98"&gt;&lt;strong&gt;单机多盘&lt;/strong&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;strong&gt;SNMD&lt;/strong&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;单节点，使用多块磁盘，通常至少 4 块盘&lt;/td&gt;
 &lt;td style="text-align: left"&gt;资源受限的小规模部署&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://pigsty.cc/docs/minio/config#%E5%A4%9A%E6%9C%BA%E5%A4%9A%E7%9B%98"&gt;&lt;strong&gt;多机多盘&lt;/strong&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;strong&gt;MNMD&lt;/strong&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;多节点，每节点多块磁盘&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;strong&gt;生产环境推荐&lt;/strong&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;单机单盘模式可以使用任意目录作为存储，适合快速体验；单机多盘和多机多盘模式需要使用真实的磁盘挂载点，否则会拒绝启动。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="具体样例"&gt;具体样例&lt;/h2&gt;
&lt;p&gt;让我们来看一个多机多盘模式的具体例子，以四节点的 MinIO 集群为例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;hosts&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.10&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;1&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;}&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.11&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;2&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;}&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.12&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;3&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;}&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.13&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;4&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;}&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;vars&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_cluster&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_data&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#39;/data{1...4}&amp;#39;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_node&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#39;${minio_cluster}-${minio_seq}.pigsty&amp;#39;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上面的配置片段定义了一个四节点的 MinIO 集群，每个节点使用四块磁盘，该集群中的相关实体包括：&lt;/p&gt;</description></item><item><title>模块：MINIO</title><link>https://pigsty.cc/docs/minio/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/</guid><description>&lt;p&gt;&lt;a href="https://min.io/"&gt;MinIO&lt;/a&gt; 是一个兼容 AWS S3 的多云对象存储软件。&lt;/p&gt;
&lt;p&gt;MinIO 可以用来存储文档、图片、视频和备份。Pigsty 原生支持部署各种 MinIO 集群，具备原生多节点多磁盘高可用支持，易于扩展、安全且开箱即用，
并且有过 10PB+ 级别的大规模生产环境部署用例。&lt;/p&gt;
&lt;p&gt;MinIO 是 Pigsty 中的一个 &lt;a href="https://pigsty.cc/docs/ref/module"&gt;&lt;strong&gt;可选模块&lt;/strong&gt;&lt;/a&gt;。您可以将 MinIO 用作 PostgreSQL &lt;a href="https://pigsty.cc/docs/pgsql/backup/repository/"&gt;&lt;strong&gt;备份&lt;/strong&gt;&lt;/a&gt; 的可选存储仓库，作为默认本地 POSIX 文件系统仓库的补充。
如果使用 MinIO 备份仓库，&lt;code&gt;MINIO&lt;/code&gt; 模块应在任何 &lt;a href="https://pigsty.cc/docs/pgsql"&gt;&lt;code&gt;PGSQL&lt;/code&gt;&lt;/a&gt; 模块之前安装。MinIO 需要受信任的 CA 证书才能工作，因此它依赖 &lt;a href="https://pigsty.cc/docs/node"&gt;&lt;code&gt;NODE&lt;/code&gt;&lt;/a&gt; 模块。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="快速开始"&gt;快速开始&lt;/h2&gt;
&lt;p&gt;以下是一个最简单的 MinIO 单机单盘部署示例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 在配置清单中定义 MinIO 集群&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;hosts&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.10&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq: 1 } }, vars&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_cluster&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio } }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio.yml -l minio &lt;span style="color:#8f5902;font-style:italic"&gt;# 在 minio 分组上部署 MinIO 模块&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;部署完成后，您可以通过以下方式访问 MinIO：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;S3 API&lt;/strong&gt;：&lt;code&gt;https://sss.pigsty:9000&lt;/code&gt;（使用域名需要配置 DNS 解析）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Web 控制台&lt;/strong&gt;：&lt;code&gt;https://&amp;lt;minio-ip&amp;gt;:9001&lt;/code&gt;（默认用户名/密码：&lt;code&gt;minioadmin&lt;/code&gt; / &lt;code&gt;S3User.MinIO&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;命令行&lt;/strong&gt;：&lt;code&gt;mcli ls sss/&lt;/code&gt;（管理节点上已预配置别名）&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="部署模式"&gt;部署模式&lt;/h2&gt;
&lt;p&gt;MinIO 支持三种主要部署模式：&lt;/p&gt;</description></item><item><title>使用方法</title><link>https://pigsty.cc/docs/minio/usage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/usage/</guid><description>&lt;p&gt;当您 &lt;a href="https://pigsty.cc/docs/minio/config/"&gt;配置&lt;/a&gt; 并执行 &lt;a href="https://pigsty.cc/docs/minio/playbook/"&gt;剧本&lt;/a&gt; 部署 MinIO 集群后，可以参考这里的说明开始使用与接入 MinIO 集群。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="部署集群"&gt;部署集群&lt;/h2&gt;
&lt;p&gt;在 Pigsty 中部署一个开箱即用的 单机单盘 MinIO 实例非常简单：首先在 &lt;a href="https://pigsty.cc/docs/setup/config/"&gt;配置清单&lt;/a&gt; 中定义一套 MinIO 集群：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;hosts&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.10&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq: 1 } }, vars&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_cluster&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio } }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后，针对定义的分组（这里为 &lt;code&gt;minio&lt;/code&gt; ）执行 Pigsty 提供的 &lt;a href="https://pigsty.cc/docs/minio/playbook/"&gt;&lt;code&gt;minio.yml&lt;/code&gt;&lt;/a&gt; 剧本即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio.yml -l minio
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;请注意在 &lt;a href="https://pigsty.cc/docs/setup/playbook#%E9%83%A8%E7%BD%B2%E5%89%A7%E6%9C%AC"&gt;&lt;code&gt;deploy.yml&lt;/code&gt;&lt;/a&gt; 中，事先定义好的 MinIO 集群将自动创建，无需手动再次执行 &lt;code&gt;minio.yml&lt;/code&gt; 剧本。&lt;/p&gt;
&lt;p&gt;如果您计划部署一个生产等级的大规模多节点 MinIO 集群，我们强烈建议您通读 Pigsty MinIO &lt;a href="https://pigsty.cc/docs/minio/config/"&gt;配置文档&lt;/a&gt; 与 MinIO &lt;a href="https://min.io/docs/minio/linux/operations/concepts.html"&gt;官方文档&lt;/a&gt; 后再进行。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="接入集群"&gt;接入集群&lt;/h2&gt;
&lt;p&gt;请注意：生产环境建议通过域名与 HTTPS 访问 MinIO（默认配置也是 HTTPS）。
如果您显式设置 &lt;a href="https://pigsty.cc/docs/minio/param#minio_https"&gt;&lt;code&gt;minio_https&lt;/code&gt;&lt;/a&gt; 为 &lt;code&gt;false&lt;/code&gt;，也可以使用 HTTP 访问。
无论哪种方式，都请确保 MinIO 服务域名（默认为 &lt;code&gt;sss.pigsty&lt;/code&gt;）正确指向 MinIO 服务器节点。&lt;/p&gt;</description></item><item><title>集群配置</title><link>https://pigsty.cc/docs/minio/config/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/config/</guid><description>&lt;p&gt;在部署 MinIO 之前，你需要在 &lt;a href="https://pigsty.cc/docs/setup/config"&gt;配置清单&lt;/a&gt; 中定义一个 MinIO 集群，MinIO 有三种经典部署模式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#%E5%8D%95%E6%9C%BA%E5%8D%95%E7%9B%98"&gt;单机单盘：SNSD&lt;/a&gt;：单机单盘模式，可以使用任意目录作为数据盘，仅作为开发、测试、演示使用。&lt;/li&gt;
&lt;li&gt;&lt;a href="#%E5%8D%95%E6%9C%BA%E5%A4%9A%E7%9B%98"&gt;单机多盘：SNMD&lt;/a&gt;：折中模式，在单台服务器上使用多块磁盘 (&amp;gt;=2)，仅当资源极为有限时使用。&lt;/li&gt;
&lt;li&gt;&lt;a href="#%E5%A4%9A%E6%9C%BA%E5%A4%9A%E7%9B%98"&gt;多机多盘：MNMD&lt;/a&gt;：多机多盘模式，标准生产环境部署，具有最好的可靠性，但需要多台服务器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通常我们建议使用 SNSD 与 MNMD 这两种模式，前者用于开发测试，后者用于生产部署，SNMD 仅在资源有限（只有一台服务器）的情况下使用。&lt;/p&gt;
&lt;p&gt;此外，还可以使用 &lt;a href="#%E5%A4%9A%E6%B1%A0%E9%83%A8%E7%BD%B2"&gt;多池部署&lt;/a&gt; 来实现现有 MinIO 集群的扩容，或者直接部署 &lt;a href="#%E5%A4%9A%E5%A5%97%E9%9B%86%E7%BE%A4"&gt;多套集群&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;使用多节点 MinIO 集群时，访问任意节点都可以获取服务，因此最佳实践是在 MinIO 集群前使用负载均衡与 &lt;a href="#%E6%9C%8D%E5%8A%A1%E6%8E%A5%E5%85%A5"&gt;高可用服务接入机制&lt;/a&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="核心参数"&gt;核心参数&lt;/h2&gt;
&lt;p&gt;MinIO 部署中，&lt;a href="https://min.io/docs/minio/linux/reference/minio-server/settings/core.html#envvar.MINIO_VOLUMES"&gt;&lt;code&gt;MINIO_VOLUMES&lt;/code&gt;&lt;/a&gt; 是一个核心配置参数，用于指定 MinIO 的部署模式。
Pigsty 提供了一些便捷的参数用于自动根据配置清单，生成 &lt;code&gt;MINIO_VOLUMES&lt;/code&gt; 与其他配置参数的值，但您也可以直接指定它们。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单机单盘： &lt;code&gt;MINIO_VOLUMES&lt;/code&gt; 指向本机上的一个普通目录，默认由 &lt;a href="https://pigsty.cc/docs/minio/param#minio_data"&gt;&lt;code&gt;minio_data&lt;/code&gt;&lt;/a&gt; 指定，默认位置为 &lt;code&gt;/data/minio&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;单机多盘： &lt;code&gt;MINIO_VOLUMES&lt;/code&gt; 指向本机上的序列挂载点，同样是由 &lt;a href="https://pigsty.cc/docs/minio/param#minio_data"&gt;&lt;code&gt;minio_data&lt;/code&gt;&lt;/a&gt; 指定，但需要用特殊语法显式覆盖指定真实挂载点，例如 &lt;code&gt;/data{1...4}&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;多机多盘： &lt;code&gt;MINIO_VOLUMES&lt;/code&gt; 指向多台服务器上的序列挂载点，由以下两部分自动组合生成：
&lt;ul&gt;
&lt;li&gt;首先要使用 &lt;a href="https://pigsty.cc/docs/minio/param#minio_data"&gt;&lt;code&gt;minio_data&lt;/code&gt;&lt;/a&gt; 指定集群每个成员的磁盘挂载点序列 &lt;code&gt;/data{1...4}&lt;/code&gt;，&lt;/li&gt;
&lt;li&gt;还需要使用 &lt;a href="https://pigsty.cc/docs/minio/param#minio_node"&gt;&lt;code&gt;minio_node&lt;/code&gt;&lt;/a&gt; 指定节点的命名模式 &lt;code&gt;${minio_cluster}-${minio_seq}.pigsty&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;多池部署： 您需要显式指定 &lt;a href="https://pigsty.cc/docs/minio/param#minio_volumes"&gt;&lt;code&gt;minio_volumes&lt;/code&gt;&lt;/a&gt; 参数来分配每个存储池的节点，从而实现集群扩容&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="单机单盘"&gt;单机单盘&lt;/h2&gt;
&lt;p&gt;SNSD 模式，部署参考教程：&lt;a href="https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html"&gt;MinIO 单机单盘部署&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在 Pigsty 中，定义一个单例 MinIO 实例非常简单：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 1 节点 1 驱动器（默认）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;hosts&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.10&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq: 1 } }, vars&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_cluster&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio } }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;单机模式下，唯一必要的参数是 &lt;a href="https://pigsty.cc/docs/minio/param#minio_seq"&gt;&lt;code&gt;minio_seq&lt;/code&gt;&lt;/a&gt; 和 &lt;a href="https://pigsty.cc/docs/minio/param#minio_cluster"&gt;&lt;code&gt;minio_cluster&lt;/code&gt;&lt;/a&gt;，它们会唯一标识每一个 MinIO 实例。&lt;/p&gt;</description></item><item><title>参数列表</title><link>https://pigsty.cc/docs/minio/param/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/param/</guid><description>&lt;p&gt;MinIO 模块的参数列表，共有 &lt;strong&gt;21&lt;/strong&gt; 个参数，分为两个部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#minio"&gt;&lt;strong&gt;&lt;code&gt;MINIO&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;：18 个参数，用于 MinIO 集群的部署与配置&lt;/li&gt;
&lt;li&gt;&lt;a href="#minio_remove"&gt;&lt;strong&gt;&lt;code&gt;MINIO_REMOVE&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;：3 个参数，控制 MinIO 集群的移除&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="alert alert-info" role="alert"&gt;&lt;div class="h4 alert-heading" role="heading"&gt;架构变化：Pigsty v3.6+&lt;/div&gt;
&lt;p&gt;自 Pigsty v3.6 起，&lt;code&gt;minio.yml&lt;/code&gt; 剧本不再包含移除功能，移除相关参数已迁移至独立的 &lt;code&gt;minio_remove&lt;/code&gt; 角色和 &lt;code&gt;minio-rm.yml&lt;/code&gt; 剧本。&lt;/p&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;h2 id="参数概览"&gt;参数概览&lt;/h2&gt;
&lt;p&gt;&lt;a href="#minio"&gt;&lt;code&gt;MINIO&lt;/code&gt;&lt;/a&gt; 参数组用于 MinIO 集群的部署与配置，包括身份标识、存储路径、端口、认证凭据以及存储桶和用户的置备。&lt;/p&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;参数&lt;/th&gt;
 &lt;th style="text-align: center"&gt;类型&lt;/th&gt;
 &lt;th style="text-align: center"&gt;级别&lt;/th&gt;
 &lt;th style="text-align: left"&gt;说明&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_seq"&gt;&lt;code&gt;minio_seq&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;I&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 实例标识符，必填&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_cluster"&gt;&lt;code&gt;minio_cluster&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 集群名称，默认为 minio&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_user"&gt;&lt;code&gt;minio_user&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;username&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 操作系统用户，默认为 &lt;code&gt;minio&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_https"&gt;&lt;code&gt;minio_https&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;bool&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;G/C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;是否为 MinIO 启用 HTTPS？默认为 true&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_node"&gt;&lt;code&gt;minio_node&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 节点名模式&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_data"&gt;&lt;code&gt;minio_data&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;path&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 数据目录，使用 &lt;code&gt;{x...y}&lt;/code&gt; 指定多个磁盘&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_volumes"&gt;&lt;code&gt;minio_volumes&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 核心参数，指定成员节点与磁盘，默认不指定&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_domain"&gt;&lt;code&gt;minio_domain&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;G&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 外部域名，默认为 &lt;code&gt;sss.pigsty&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_port"&gt;&lt;code&gt;minio_port&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;port&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 服务端口，默认为 9000&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_admin_port"&gt;&lt;code&gt;minio_admin_port&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;port&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 控制台端口，默认为 9001&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_access_key"&gt;&lt;code&gt;minio_access_key&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;username&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;根访问密钥，默认为 &lt;code&gt;minioadmin&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_secret_key"&gt;&lt;code&gt;minio_secret_key&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;password&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;根密钥，默认为 &lt;code&gt;S3User.MinIO&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_extra_vars"&gt;&lt;code&gt;minio_extra_vars&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 服务器的额外环境变量&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_provision"&gt;&lt;code&gt;minio_provision&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;bool&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;G/C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;是否执行 minio 资源置备任务？默认为 true&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_alias"&gt;&lt;code&gt;minio_alias&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;G&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 部署的客户端别名&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_endpoint"&gt;&lt;code&gt;minio_endpoint&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;string&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;minio 部署的客户端别名对应的端点&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_buckets"&gt;&lt;code&gt;minio_buckets&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;bucket[]&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;待创建的 minio 存储桶列表&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="#minio_users"&gt;&lt;code&gt;minio_users&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;user[]&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;code&gt;C&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;待创建的 minio 用户列表&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a href="#minio_remove"&gt;&lt;code&gt;MINIO_REMOVE&lt;/code&gt;&lt;/a&gt; 参数组控制 MinIO 集群的移除行为，包括防误删保险、数据清理以及软件包卸载。&lt;/p&gt;</description></item><item><title>预置剧本</title><link>https://pigsty.cc/docs/minio/playbook/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/playbook/</guid><description>&lt;p&gt;MinIO 模块提供了两个内置剧本用于集群管理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#minioyml"&gt;&lt;code&gt;minio.yml&lt;/code&gt;&lt;/a&gt;：用于安装 MinIO 集群&lt;/li&gt;
&lt;li&gt;&lt;a href="#minio-rmyml"&gt;&lt;code&gt;minio-rm.yml&lt;/code&gt;&lt;/a&gt;：用于移除 MinIO 集群&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="minioyml"&gt;&lt;code&gt;minio.yml&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;剧本 &lt;a href="https://github.com/pgsty/pigsty/blob/main/minio.yml"&gt;&lt;code&gt;minio.yml&lt;/code&gt;&lt;/a&gt; 用于在节点上安装 MinIO 模块。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;minio-id&lt;/code&gt; : 生成/校验 minio 身份参数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_install&lt;/code&gt; : 安装 minio
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;minio_os_user&lt;/code&gt; : 创建操作系统用户 minio&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_pkg&lt;/code&gt; : 安装 minio/mcli 软件包&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_dir&lt;/code&gt; : 创建 minio 目录&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_config&lt;/code&gt; : 生成 minio 配置
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;minio_conf&lt;/code&gt; : minio 主配置文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_cert&lt;/code&gt; : minio SSL 证书签发&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_dns&lt;/code&gt; : minio DNS 记录插入&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_launch&lt;/code&gt; : minio 服务启动&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_register&lt;/code&gt; : minio 纳入监控&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_provision&lt;/code&gt; : 创建 minio 别名/存储桶/业务用户
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;minio_alias&lt;/code&gt; : 创建 minio 客户端别名（管理节点上）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_bucket&lt;/code&gt; : 创建 minio 存储桶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minio_user&lt;/code&gt; : 创建 minio 业务用户&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在执行剧本前，请先在 &lt;a href="https://pigsty.cc/docs/setup/config"&gt;配置清单&lt;/a&gt; 中，完成 MinIO 集群的 &lt;a href="https://pigsty.cc/docs/minio/config/"&gt;配置&lt;/a&gt;。&lt;/p&gt;</description></item><item><title>管理预案</title><link>https://pigsty.cc/docs/minio/admin/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/admin/</guid><description>&lt;hr&gt;
&lt;h2 id="创建集群"&gt;创建集群&lt;/h2&gt;
&lt;p&gt;要创建一个集群，在配置清单中定义好后，执行 &lt;a href="https://pigsty.cc/docs/minio/playbook#minioyml"&gt;&lt;code&gt;minio.yml&lt;/code&gt;&lt;/a&gt; 剧本即可。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;hosts&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;10.10.10.10&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_seq: 1 } }, vars&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;minio_cluster&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio } }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;例如，上面的配置定义了一个 SNSD &lt;a href="https://pigsty.cc/docs/minio/config#%E5%8D%95%E6%9C%BA%E5%8D%95%E7%9B%98"&gt;单机单盘&lt;/a&gt; MinIO 集群，使用以下命令即可创建该 MinIO 集群：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio.yml -l minio &lt;span style="color:#8f5902;font-style:italic"&gt;# 在 minio 分组上安装 MinIO 模块 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="销毁集群"&gt;销毁集群&lt;/h2&gt;
&lt;p&gt;要销毁一个集群，执行专用的 &lt;a href="https://pigsty.cc/docs/minio/playbook#minio-rmyml"&gt;&lt;code&gt;minio-rm.yml&lt;/code&gt;&lt;/a&gt; 剧本即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio-rm.yml -l minio &lt;span style="color:#8f5902;font-style:italic"&gt;# 移除 MinIO 集群&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio-rm.yml -l minio -e &lt;span style="color:#000"&gt;minio_rm_data&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#204a87"&gt;false&lt;/span&gt; &lt;span style="color:#8f5902;font-style:italic"&gt;# 移除集群但保留数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;./minio-rm.yml -l minio -e &lt;span style="color:#000"&gt;minio_rm_pkg&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#204a87"&gt;true&lt;/span&gt; &lt;span style="color:#8f5902;font-style:italic"&gt;# 移除集群并卸载软件包&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="alert alert-info" role="alert"&gt;&lt;div class="h4 alert-heading" role="heading"&gt;架构变更：Pigsty v3.6+&lt;/div&gt;
&lt;p&gt;从 Pigsty v3.6 开始，集群移除操作已从 &lt;code&gt;minio.yml&lt;/code&gt; 剧本迁移至专用的 &lt;code&gt;minio-rm.yml&lt;/code&gt; 剧本。旧的 &lt;code&gt;minio_clean&lt;/code&gt; 任务已被弃用。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;移除剧本会自动完成以下操作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从 Victoria/Prometheus 监控系统中注销 MinIO 目标&lt;/li&gt;
&lt;li&gt;从 INFRA 节点的 DNS 服务中移除记录&lt;/li&gt;
&lt;li&gt;停止并禁用 MinIO systemd 服务&lt;/li&gt;
&lt;li&gt;删除 MinIO 数据目录和配置文件（可选）&lt;/li&gt;
&lt;li&gt;卸载 MinIO 软件包（可选）&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="集群扩容"&gt;集群扩容&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://min.io/docs/minio/linux/operations/install-deploy-manage/expand-minio-deployment.html"&gt;集群扩容教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MinIO 无法在节点/磁盘级别上扩容，但可以在存储池（多个节点）层次上进行扩容。&lt;/p&gt;</description></item><item><title>监控告警</title><link>https://pigsty.cc/docs/minio/monitor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/monitor/</guid><description>&lt;hr&gt;
&lt;h2 id="内置控制台"&gt;内置控制台&lt;/h2&gt;
&lt;p&gt;MinIO 内置了一个相当不错的管控界面，默认您可以通过任意 MinIO 实例的管控端口 （&lt;a href="https://pigsty.cc/docs/minio/param#minio_admin_port"&gt;&lt;code&gt;minio_admin_port&lt;/code&gt;&lt;/a&gt; ，默认为 &lt;code&gt;9001&lt;/code&gt;），使用 HTTPS 访问此界面。&lt;/p&gt;
&lt;p&gt;在大多数提供 MinIO 服务的配置模板中，MinIO 都会以 &lt;code&gt;m.pigsty&lt;/code&gt; 的自定义服务对外暴露。在配置域名解析后，您可以通过 &lt;code&gt;https://m.pigsty&lt;/code&gt; 访问 MinIO 管控界面。&lt;/p&gt;
&lt;p&gt;使用 &lt;a href="https://pigsty.cc/docs/minio/param#minio_access_key"&gt;&lt;code&gt;minio_access_key&lt;/code&gt;&lt;/a&gt; 和 &lt;a href="https://pigsty.cc/docs/minio/param#minio_secret_key"&gt;&lt;code&gt;minio_secret_key&lt;/code&gt;&lt;/a&gt; 配置的管理员凭证登录（默认为 &lt;code&gt;minioadmin&lt;/code&gt; / &lt;code&gt;S3User.MinIO&lt;/code&gt;）。&lt;/p&gt;
&lt;div class="alert alert-info" role="alert"&gt;&lt;div class="h4 alert-heading" role="heading"&gt;注意：HTTPS 与证书信任&lt;/div&gt;
&lt;p&gt;MinIO 控制台需要 HTTPS 访问。如果您使用 Pigsty 自签名 CA，需要在浏览器中信任该 CA 证书，或者手动接受安全警告。&lt;/p&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;h2 id="pigsty监控"&gt;Pigsty监控&lt;/h2&gt;
&lt;p&gt;Pigsty 提供了两个与 &lt;a href="https://pigsty.cc/docs/minio"&gt;&lt;code&gt;MINIO&lt;/code&gt;&lt;/a&gt; 模块有关的监控面板：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://demo.pigsty.cc/d/minio-overview"&gt;MinIO Overview&lt;/a&gt;：展示 MinIO 集群的整体监控指标，包括集群状态、存储使用量、请求速率等。&lt;/li&gt;
&lt;li&gt;&lt;a href="https://demo.pigsty.cc/d/minio-instance"&gt;MinIO Instance&lt;/a&gt;：展示单个 MinIO 实例的监控指标详情，包括 CPU、内存、网络、磁盘等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://demo.pigsty.cc/d/minio-overview"&gt;&lt;img src="https://pigsty.cc/img/dashboard/minio-overview.jpg" alt="minio-overview.jpg"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;MinIO 监控指标通过 MinIO 原生的 Prometheus 端点（&lt;code&gt;/minio/v2/metrics/cluster&lt;/code&gt;）采集，默认由 Victoria Metrics 抓取并存储。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="pigsty告警"&gt;Pigsty告警&lt;/h2&gt;
&lt;p&gt;Pigsty 针对 MinIO 提供了以下三条告警规则，分别是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MinIO 宕机&lt;/li&gt;
&lt;li&gt;MinIO 节点离线&lt;/li&gt;
&lt;li&gt;MinIO 磁盘离线&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#==============================================================#&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# Aliveness #&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#==============================================================#&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# MinIO server instance down&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#204a87;font-weight:bold"&gt;alert&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;MinioServerDown&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;expr&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio_up &amp;lt; 1&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;for&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;1m&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;labels&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;level: 0, severity: CRIT, category&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;annotations&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;summary&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;CRIT MinioServerDown {{ $labels.ins }}@{{ $labels.instance }}&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;description&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; minio_up[ins={{ $labels.ins }}, instance={{ $labels.instance }}] = {{ $value }} &amp;lt; 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; /ui/d/minio-overview&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#==============================================================#&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# Error #&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;#==============================================================#&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# MinIO node offline triggers a p1 alert&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#204a87;font-weight:bold"&gt;alert&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;MinioNodeOffline&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;expr&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;avg_over_time(minio_cluster_nodes_offline_total{job=&amp;#34;minio&amp;#34;}[5m]) &amp;gt; 0&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;for&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;3m&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;labels&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;level: 1, severity: WARN, category&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;annotations&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;summary&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;WARN MinioNodeOffline: {{ $labels.cls }} {{ $value }}&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;description&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; minio_cluster_nodes_offline_total[cls={{ $labels.cls }}] = {{ $value }} &amp;gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; /ui/d/minio-overview?from=now-5m&amp;amp;to=now&amp;amp;var-cls={{$labels.cls}}&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# MinIO disk offline triggers a p1 alert&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#204a87;font-weight:bold"&gt;alert&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;MinioDiskOffline&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;expr&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;avg_over_time(minio_cluster_disk_offline_total{job=&amp;#34;minio&amp;#34;}[5m]) &amp;gt; 0&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;for&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;3m&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;labels&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;{&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;level: 1, severity: WARN, category&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;minio }&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;annotations&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;summary&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;WARN MinioDiskOffline: {{ $labels.cls }} {{ $value }}&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;description&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; minio_cluster_disk_offline_total[cls={{ $labels.cls }}] = {{ $value }} &amp;gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; /ui/d/minio-overview?from=now-5m&amp;amp;to=now&amp;amp;var-cls={{$labels.cls}}&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>指标列表</title><link>https://pigsty.cc/docs/minio/metric/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/metric/</guid><description>&lt;p&gt;&lt;a href="https://pigsty.cc/docs/minio"&gt;&lt;strong&gt;&lt;code&gt;MINIO&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt; 模块包含有 79 类可用监控指标。&lt;/p&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Metric Name&lt;/th&gt;
 &lt;th&gt;Type&lt;/th&gt;
 &lt;th&gt;Labels&lt;/th&gt;
 &lt;th&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_audit_failed_messages&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;target_id&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of messages that failed to send since start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_audit_target_queue_length&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;target_id&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of unsent messages in queue for target&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_audit_total_messages&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;target_id&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of messages sent since start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_bucket_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of buckets in the cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_capacity_raw_free_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total free capacity online in the cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_capacity_raw_total_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total capacity online in the cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_capacity_usable_free_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total free usable capacity online in the cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_capacity_usable_total_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total usable capacity online in the cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_drive_offline_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total drives offline in this cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_drive_online_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total drives online in this cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_drive_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total drives in this cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_erasure_set_healing_drives&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;pool&lt;/code&gt;, &lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get the count of healing drives of this erasure set&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_erasure_set_online_drives&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;pool&lt;/code&gt;, &lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get the count of the online drives in this erasure set&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_erasure_set_read_quorum&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;pool&lt;/code&gt;, &lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get the read quorum for this erasure set&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_erasure_set_status&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;pool&lt;/code&gt;, &lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get current health status for this erasure set&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_erasure_set_write_quorum&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;pool&lt;/code&gt;, &lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get the write quorum for this erasure set&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_health_status&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Get current cluster health status&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_nodes_offline_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of MinIO nodes offline&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_nodes_online_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of MinIO nodes online&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_objects_size_distribution&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;range&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Distribution of object sizes across a cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_objects_version_distribution&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;range&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Distribution of object versions across a cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_usage_deletemarker_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of delete markers in a cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_usage_object_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of objects in a cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_usage_total_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total cluster usage in bytes&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_usage_version_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of versions (includes delete marker) in a cluster&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_webhook_failed_messages&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of messages that failed to send&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_webhook_online&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Is the webhook online?&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_webhook_queue_length&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Webhook queue length&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_webhook_total_messages&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of messages sent to this target&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_cluster_write_quorum&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Maximum write quorum across all pools and sets&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_file_descriptor_limit_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Limit on total number of open file descriptors for the MinIO Server process&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_file_descriptor_open_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of open file descriptors by the MinIO Server process&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_go_routine_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of go routines running&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_ilm_expiry_pending_tasks&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of pending ILM expiry tasks in the queue&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_ilm_transition_active_tasks&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of active ILM transition tasks&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_ilm_transition_missed_immediate_tasks&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of missed immediate ILM transition tasks&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_ilm_transition_pending_tasks&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of pending ILM transition tasks in the queue&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_ilm_versions_scanned&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of object versions checked for ilm actions since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_io_rchar_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total bytes read by the process from the underlying storage system including cache, /proc/[pid]/io rchar&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_io_read_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total bytes read by the process from the underlying storage system, /proc/[pid]/io read_bytes&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_io_wchar_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total bytes written by the process to the underlying storage system including page cache, /proc/[pid]/io wchar&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_io_write_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total bytes written by the process to the underlying storage system, /proc/[pid]/io write_bytes&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_process_cpu_total_seconds&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total user and system CPU time spent in seconds&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_process_resident_memory_bytes&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Resident memory size in bytes&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_process_starttime_seconds&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Start time for MinIO process per node, time in seconds since Unix epoc&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_process_uptime_seconds&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Uptime for MinIO process per node in seconds&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_scanner_bucket_scans_finished&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of bucket scans finished since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_scanner_bucket_scans_started&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of bucket scans started since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_scanner_directories_scanned&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of directories scanned since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_scanner_objects_scanned&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of unique objects scanned since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_scanner_versions_scanned&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of object versions scanned since server start&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_syscall_read_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total read SysCalls to the kernel. /proc/[pid]/io syscr&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_node_syscall_write_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total write SysCalls to the kernel. /proc/[pid]/io syscw&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_notify_current_send_in_progress&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Number of concurrent async Send calls active to all targets (deprecated, please use &amp;lsquo;minio_notify_target_current_send_in_progress&amp;rsquo; instead)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_notify_events_errors_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Events that were failed to be sent to the targets (deprecated, please use &amp;lsquo;minio_notify_target_failed_events&amp;rsquo; instead)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_notify_events_sent_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of events sent to the targets (deprecated, please use &amp;lsquo;minio_notify_target_total_events&amp;rsquo; instead)&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_notify_events_skipped_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Events that were skipped to be sent to the targets due to the in-memory queue being full&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_4xx_errors_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;api&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests with (4xx) errors&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_errors_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;api&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests with (4xx and 5xx) errors&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_incoming_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of incoming S3 requests&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_inflight_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;api&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests currently in flight&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_rejected_auth_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests rejected for auth failure&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_rejected_header_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests rejected for invalid header&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_rejected_invalid_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of invalid S3 requests&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_rejected_timestamp_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests rejected for invalid timestamp&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_total&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;api&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_ttfb_seconds_distribution&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;le&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;, &lt;code&gt;api&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Distribution of time to first byte across API calls&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_requests_waiting_total&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of S3 requests in the waiting queue&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_traffic_received_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of s3 bytes received&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_s3_traffic_sent_bytes&lt;/td&gt;
 &lt;td&gt;counter&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Total number of s3 bytes sent&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_software_commit_info&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;commit&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Git commit hash for the MinIO release&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_software_version_info&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;version&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;MinIO Release tag for the server&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_up&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;minio_usage_last_activity_nano_seconds&lt;/td&gt;
 &lt;td&gt;gauge&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;Time elapsed (in nano seconds) since last scan activity.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;scrape_duration_seconds&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;scrape_samples_post_metric_relabeling&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;scrape_samples_scraped&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;scrape_series_added&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;up&lt;/td&gt;
 &lt;td&gt;Unknown&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;ip&lt;/code&gt;, &lt;code&gt;job&lt;/code&gt;, &lt;code&gt;cls&lt;/code&gt;, &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;ins&lt;/code&gt;&lt;/td&gt;
 &lt;td&gt;N/A&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;</description></item><item><title>常见问题</title><link>https://pigsty.cc/docs/minio/faq/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/minio/faq/</guid><description>&lt;hr&gt;
&lt;h2 id="pigsty-使用的-minio-是什么版本"&gt;Pigsty 使用的 MinIO 是什么版本？&lt;/h2&gt;
&lt;p&gt;MinIO 于 2025-12-03 宣布进入 &lt;strong&gt;维护模式&lt;/strong&gt;，不再发布新的功能版本，只会发布安全补丁与维护版本，并且在 2025-10-15 停止发布二进制 RPM/DEB。
所以 Pigsty fork 了自己的 &lt;a href="https://github.com/pgsty/minio"&gt;MinIO&lt;/a&gt;，并使用 &lt;a href="https://github.com/minio/pkger"&gt;&lt;code&gt;minio/pkger&lt;/code&gt;&lt;/a&gt; 制作了最新的 2025-12-03 版本。&lt;/p&gt;
&lt;p&gt;这一版本修复了 MinIO &lt;a href="https://nvd.nist.gov/vuln/detail/CVE-2025-62506"&gt;&lt;strong&gt;CVE-2025-62506&lt;/strong&gt;&lt;/a&gt; 安全漏洞，确保 Pigsty 用户的 MinIO 部署安全可靠。
您可以在 Pigsty Infra 仓库中找到 RPM/DEB 包以及构建使用的脚本。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="为什么-minio-强制要求-https"&gt;为什么 MinIO 强制要求 HTTPS？&lt;/h2&gt;
&lt;p&gt;当 pgbackrest 使用对象存储作为备份仓库时，强制要求使用 HTTPS，以确保数据传输的安全性。
如果您的 MinIO 并非用于 pgbackrest 备份，您仍然可以选择使用 HTTP 协议。
可以通过修改参数 &lt;a href="https://pigsty.cc/docs/minio/param#minio_https"&gt;&lt;code&gt;minio_https&lt;/code&gt;&lt;/a&gt; 来关闭 HTTPS。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="从容器中访问-minio-提示证书无效"&gt;从容器中访问 MinIO 提示证书无效？&lt;/h2&gt;
&lt;p&gt;除非您使用真正的企业 CA 颁发的证书，否则 MinIO 默认使用自签名证书，这会导致容器内的客户端工具（如 mc / rclone / awscli 等）无法验证 MinIO 服务器的身份，从而提示证书无效。&lt;/p&gt;
&lt;p&gt;例如，对于 Node.js 应用程序，可以 MinIO 服务器的 CA 证书挂载到容器内，并通过环境变量 &lt;code&gt;NODE_EXTRA_CA_CERTS&lt;/code&gt; 指定 CA 证书路径：&lt;/p&gt;</description></item></channel></rss>