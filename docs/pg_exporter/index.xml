<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PG Exporter on PIGSTY</title><link>https://pigsty.cc/docs/pg_exporter/</link><description>Recent content in PG Exporter on PIGSTY</description><generator>Hugo</generator><language>zh-CN</language><atom:link href="https://pigsty.cc/docs/pg_exporter/index.xml" rel="self" type="application/rss+xml"/><item><title>快速上手</title><link>https://pigsty.cc/docs/pg_exporter/start/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/start/</guid><description>&lt;p&gt;PG Exporter 是一款先进的 PostgreSQL 与 pgBouncer 指标导出器，专为 Prometheus 设计。本指南将帮助您快速启动并运行。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="前置条件"&gt;前置条件&lt;/h2&gt;
&lt;p&gt;在开始之前，请确保您具备：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PostgreSQL 10+ 或 pgBouncer 1.8+ 实例用于监控&lt;/li&gt;
&lt;li&gt;具有适当监控权限的用户账户&lt;/li&gt;
&lt;li&gt;Prometheus 兼容系统（用于指标抓取）&lt;/li&gt;
&lt;li&gt;对 PostgreSQL 连接字符串的基本了解&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="版本信息"&gt;版本信息&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;当前稳定版本：&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.2.0"&gt;&lt;code&gt;v1.2.0&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;默认配置支持 PostgreSQL 10-18+；PostgreSQL 9.1-9.6 需使用 &lt;code&gt;legacy/&lt;/code&gt; 配置包&lt;/li&gt;
&lt;li&gt;支持 pgBouncer 1.8-1.25+&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="设计逻辑"&gt;设计逻辑&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;pg_exporter&lt;/code&gt; 的运行逻辑可以概括为三点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地优先连接：当没有传入 &lt;code&gt;--url&lt;/code&gt; / &lt;code&gt;PG_EXPORTER_URL&lt;/code&gt; 时，默认回退到 &lt;code&gt;postgresql:///?sslmode=disable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;声明式采集：所有业务指标来自 YAML 采集器，运行时按版本/角色/标签动态选择分支&lt;/li&gt;
&lt;li&gt;可持续运行：默认非阻塞启动，目标库暂时不可达时也先启动 HTTP 端点，并在后台持续恢复健康状态&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="快速开始"&gt;快速开始&lt;/h2&gt;
&lt;p&gt;最快速地启动 PG Exporter：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 示例：Linux amd64 安装（其他平台请替换对应发布文件）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -xf pg_exporter-1.2.0.linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo install pg_exporter-1.2.0.linux-amd64/pg_exporter /usr/bin/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo install pg_exporter-1.2.0.linux-amd64/pg_exporter.yml /etc/pg_exporter.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 使用默认 URL（本地优先）运行&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pg_exporter
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 或显式指定 PostgreSQL / PgBouncer URL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#000"&gt;PG_EXPORTER_URL&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#39;postgres://user:pass@localhost:5432/postgres&amp;#39;&lt;/span&gt; pg_exporter
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 验证指标是否可用&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl http://localhost:9630/metrics
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="基本概念"&gt;基本概念&lt;/h2&gt;
&lt;h3 id="连接字符串"&gt;连接字符串&lt;/h3&gt;
&lt;p&gt;PG Exporter 使用标准的 PostgreSQL 连接 URL：&lt;/p&gt;</description></item><item><title>安装指南</title><link>https://pigsty.cc/docs/pg_exporter/install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/install/</guid><description>&lt;p&gt;PG Exporter 提供多种安装方式以适应不同的部署场景。本指南涵盖了各平台的所有可用安装选项及详细说明。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="pigsty"&gt;Pigsty&lt;/h2&gt;
&lt;p&gt;最简单的使用 &lt;code&gt;pg_exporter&lt;/code&gt; 的方式是使用 &lt;a href="https://pigsty.cc"&gt;Pigsty&lt;/a&gt;，这是一个完整的 PostgreSQL 发行版，内置了基于 &lt;code&gt;pg_exporter&lt;/code&gt;、Prometheus 和 Grafana 的可观测性最佳实践。您甚至不需要了解 &lt;code&gt;pg_exporter&lt;/code&gt; 的任何细节，它会直接为您提供所有指标和仪表盘面板。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl -fsSL https://repo.pigsty.io/get &lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt; bash&lt;span style="color:#000;font-weight:bold"&gt;;&lt;/span&gt; &lt;span style="color:#204a87"&gt;cd&lt;/span&gt; ~/pigsty&lt;span style="color:#000;font-weight:bold"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="发布版本"&gt;发布版本&lt;/h2&gt;
&lt;p&gt;您也可以直接从 &lt;a href="https://github.com/pgsty/pg_exporter/releases/latest"&gt;GitHub 发布页面&lt;/a&gt; 下载 &lt;code&gt;pg_exporter&lt;/code&gt; 软件包（&lt;code&gt;RPM&lt;/code&gt;/&lt;code&gt;DEB&lt;/code&gt;/Tarball）：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;v1.2.0 发布文件：&lt;/strong&gt;&lt;/p&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;类型&lt;/th&gt;
 &lt;th&gt;文件&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;DEB (amd64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg-exporter_1.2.0-1_amd64.deb"&gt;pg-exporter_1.2.0-1_amd64.deb&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;DEB (arm64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg-exporter_1.2.0-1_arm64.deb"&gt;pg-exporter_1.2.0-1_arm64.deb&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;DEB (ppc64le)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg-exporter_1.2.0-1_ppc64le.deb"&gt;pg-exporter_1.2.0-1_ppc64le.deb&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;RPM (aarch64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0-1.aarch64.rpm"&gt;pg_exporter-1.2.0-1.aarch64.rpm&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;RPM (x86_64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0-1.x86_64.rpm"&gt;pg_exporter-1.2.0-1.x86_64.rpm&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;RPM (ppc64le)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0-1.ppc64le.rpm"&gt;pg_exporter-1.2.0-1.ppc64le.rpm&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (Linux amd64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.linux-amd64.tar.gz"&gt;pg_exporter-1.2.0.linux-amd64.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (Linux arm64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.linux-arm64.tar.gz"&gt;pg_exporter-1.2.0.linux-arm64.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (Linux ppc64le)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.linux-ppc64le.tar.gz"&gt;pg_exporter-1.2.0.linux-ppc64le.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (macOS amd64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.darwin-amd64.tar.gz"&gt;pg_exporter-1.2.0.darwin-amd64.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (macOS arm64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.darwin-arm64.tar.gz"&gt;pg_exporter-1.2.0.darwin-arm64.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;Tarball (Windows amd64)&lt;/td&gt;
 &lt;td&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/download/v1.2.0/pg_exporter-1.2.0.windows-amd64.tar.gz"&gt;pg_exporter-1.2.0.windows-amd64.tar.gz&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;您可以直接使用操作系统的包管理器（&lt;code&gt;rpm&lt;/code&gt;/&lt;code&gt;dpkg&lt;/code&gt;）安装，或者将二进制文件放入 &lt;code&gt;$PATH&lt;/code&gt; 中。&lt;/p&gt;</description></item><item><title>配置参考</title><link>https://pigsty.cc/docs/pg_exporter/config/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/config/</guid><description>&lt;p&gt;PG Exporter 使用强大而灵活的配置系统，允许您定义自定义指标、控制采集行为并优化性能。本指南涵盖了从基础设置到高级自定义的所有配置方面。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="指标采集器"&gt;指标采集器&lt;/h2&gt;
&lt;p&gt;PG Exporter 使用声明式的 YAML 配置系统，为指标采集提供极大的灵活性和控制能力。本指南涵盖了为您的特定监控需求配置 PG Exporter 的所有方面。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="配置概述"&gt;配置概述&lt;/h2&gt;
&lt;p&gt;PG Exporter 的配置以 &lt;strong&gt;采集器&lt;/strong&gt; 为核心 —— 每个采集器是一个独立的指标查询及其关联元数据。配置可以是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单一的 YAML 文件（&lt;code&gt;pg_exporter.yml&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;包含多个 YAML 文件的目录（按字母顺序合并）&lt;/li&gt;
&lt;li&gt;通过命令行或环境变量指定的自定义路径&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="配置加载"&gt;配置加载&lt;/h2&gt;
&lt;p&gt;PG Exporter 按以下顺序搜索配置：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;命令行参数：&lt;code&gt;--config=/path/to/config&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;环境变量：&lt;code&gt;PG_EXPORTER_CONFIG=/path/to/config&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;当前目录：&lt;code&gt;./pg_exporter.yml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;系统配置文件：&lt;code&gt;/etc/pg_exporter.yml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;系统配置目录：&lt;code&gt;/etc/pg_exporter/&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;目录模式说明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;仅加载该目录下的 &lt;code&gt;.yml&lt;/code&gt; / &lt;code&gt;.yaml&lt;/code&gt; 文件（非递归）&lt;/li&gt;
&lt;li&gt;按文件名字典序合并；同名采集器以后加载者覆盖先前定义&lt;/li&gt;
&lt;li&gt;如果目录中有 YAML 文件但全部解析失败，导出器会直接返回错误而不是静默忽略&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="采集器结构"&gt;采集器结构&lt;/h2&gt;
&lt;p&gt;每个采集器是 YAML 配置中的一个顶级对象，具有唯一名称和多种属性：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;collector_branch_name&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 此采集器的唯一标识符&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;name&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;metric_namespace &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 指标前缀（默认为分支名称）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;desc&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;采集器描述&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 人类可读的描述&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;query&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;| &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 要执行的 SQL 查询&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;SELECT column1, column2&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;FROM table&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 执行控制&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;ttl&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;10&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 缓存生存时间（秒）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;timeout&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;0.1&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 查询超时（秒）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;fatal&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;false&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 如果为 true，失败将导致整个抓取失败&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;skip&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;false&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 如果为 true，禁用此采集器&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 版本兼容性&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;min_version&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;100000&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 最小 PostgreSQL 版本（包含）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;max_version&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;999999&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 最大 PostgreSQL 版本（不包含）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 执行标签&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;tags&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;[&lt;/span&gt;&lt;span style="color:#000"&gt;cluster, primary] &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 执行条件&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 谓词查询（可选）&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;predicate_queries&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;- &lt;span style="color:#204a87;font-weight:bold"&gt;name&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;check_function&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;predicate_query&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt; SELECT EXISTS (...)&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 指标定义&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;metrics&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;- &lt;span style="color:#204a87;font-weight:bold"&gt;column_name&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;usage&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;GAUGE &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# GAUGE、COUNTER、LABEL 或 DISCARD&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;rename&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#000"&gt;metric_name &lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 可选：重命名指标&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;description&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;帮助文本&amp;#34;&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 指标描述&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;default&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;0&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# NULL 时的默认值&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#204a87;font-weight:bold"&gt;scale&lt;/span&gt;&lt;span style="color:#000;font-weight:bold"&gt;:&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;1000&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt; &lt;/span&gt;&lt;span style="color:#8f5902;font-style:italic"&gt;# 值的缩放因子&lt;/span&gt;&lt;span style="color:#f8f8f8"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;配置校验约束（&lt;code&gt;v1.2.0&lt;/code&gt;）：&lt;/p&gt;</description></item><item><title>API 参考</title><link>https://pigsty.cc/docs/pg_exporter/api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/api/</guid><description>&lt;p&gt;PG Exporter 提供全面的 REST API，用于指标采集、健康检查、流量路由和运维控制。所有端点都通过配置的端口（默认：9630）以 HTTP 方式暴露。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="端点概览"&gt;端点概览&lt;/h2&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;端点&lt;/th&gt;
 &lt;th&gt;方法&lt;/th&gt;
 &lt;th&gt;描述&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#get-metrics"&gt;&lt;code&gt;/metrics&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;Prometheus 指标端点&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5"&gt;&lt;code&gt;/up&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;基本存活检查&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5"&gt;&lt;code&gt;/health&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;&lt;code&gt;/up&lt;/code&gt; 别名&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E6%B5%81%E9%87%8F%E8%B7%AF%E7%94%B1"&gt;&lt;code&gt;/primary&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;主库服务器检查&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E6%B5%81%E9%87%8F%E8%B7%AF%E7%94%B1"&gt;&lt;code&gt;/replica&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;从库服务器检查&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E6%B5%81%E9%87%8F%E8%B7%AF%E7%94%B1"&gt;&lt;code&gt;/read&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;读流量路由&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E8%BF%90%E7%BB%B4%E7%AB%AF%E7%82%B9"&gt;&lt;code&gt;/reload&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET/POST&lt;/td&gt;
 &lt;td&gt;重新加载配置&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E8%BF%90%E7%BB%B4%E7%AB%AF%E7%82%B9"&gt;&lt;code&gt;/explain&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;解释查询规划&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;a href="#%E8%BF%90%E7%BB%B4%E7%AB%AF%E7%82%B9"&gt;&lt;code&gt;/stat&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
 &lt;td&gt;GET&lt;/td&gt;
 &lt;td&gt;运行时统计&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id="指标端点"&gt;指标端点&lt;/h2&gt;
&lt;h3 id="get-metrics"&gt;GET /metrics&lt;/h3&gt;
&lt;p&gt;暴露所有采集指标的主端点，格式为 Prometheus 格式。&lt;/p&gt;
&lt;h4 id="请求"&gt;请求&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;curl http://localhost:9630/metrics
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="响应"&gt;响应&lt;/h4&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-prometheus" data-lang="prometheus"&gt;# HELP pg_up PostgreSQL server is up and accepting connections
# TYPE pg_up gauge
pg_up 1

# HELP pg_version PostgreSQL server version number
# TYPE pg_version gauge
pg_version 140000

# HELP pg_in_recovery PostgreSQL server is in recovery mode
# TYPE pg_in_recovery gauge
pg_in_recovery 0

# HELP pg_exporter_build_info PG Exporter build information
# TYPE pg_exporter_build_info gauge
pg_exporter_build_info{version=&amp;#34;1.2.0&amp;#34;,branch=&amp;#34;main&amp;#34;,revision=&amp;#34;&amp;lt;git-sha&amp;gt;&amp;#34;} 1

# ... 更多指标
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="响应格式"&gt;响应格式&lt;/h4&gt;
&lt;p&gt;指标遵循 Prometheus 暴露格式：&lt;/p&gt;</description></item><item><title>部署指南</title><link>https://pigsty.cc/docs/pg_exporter/deploy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/deploy/</guid><description>&lt;p&gt;本指南涵盖生产环境的部署策略、最佳实践和实际配置。&lt;/p&gt;
&lt;p&gt;pg_exporter 本身可以通过以下方式配置：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;命令行参数&lt;/strong&gt;（优先级较高）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;环境变量&lt;/strong&gt;（优先级较低）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;指标采集器通过 YAML 配置文件（目录/文件）进行配置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/pg_exporter.yml&lt;/code&gt;（默认）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/pg_exporter/&lt;/code&gt;（包含多个文件的目录）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置文件使用 YAML 格式，由 &lt;strong&gt;采集器定义&lt;/strong&gt; 组成，指定要采集的指标以及如何采集。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="部署设计逻辑"&gt;部署设计逻辑&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;pg_exporter&lt;/code&gt; 在生产环境中的关键设计取舍如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地优先：默认 URL 为 &lt;code&gt;postgresql:///?sslmode=disable&lt;/code&gt;，适配同机部署&lt;/li&gt;
&lt;li&gt;先可观测后可连接：默认非阻塞启动，目标库暂时不可达时也先暴露 HTTP 端点&lt;/li&gt;
&lt;li&gt;可控失败策略：设置 &lt;code&gt;--fail-fast&lt;/code&gt; 后，启动阶段目标不可达会直接失败退出&lt;/li&gt;
&lt;li&gt;在线变更：支持 &lt;code&gt;POST/GET /reload&lt;/code&gt; 与 &lt;code&gt;SIGHUP&lt;/code&gt; 触发热重载（非 Windows 额外支持 &lt;code&gt;SIGUSR1&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;健康探针解耦：&lt;code&gt;/up&lt;/code&gt; 等端点基于后台探测缓存，避免探针风暴影响数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="命令行参数"&gt;命令行参数&lt;/h2&gt;
&lt;p&gt;所有配置选项都可以通过命令行标志指定：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pg_exporter &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --url&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;postgres://user:pass@localhost:5432/postgres&amp;#34;&lt;/span&gt; &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --config&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;/etc/pg_exporter/pg_exporter.yml&amp;#34;&lt;/span&gt; &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --web.listen-address&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;:9630&amp;#34;&lt;/span&gt; &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --auto-discovery &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --exclude-database&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;template0,template1&amp;#34;&lt;/span&gt; &lt;span style="color:#4e9a06"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --log.level&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;info&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;运行 &lt;code&gt;pg_exporter --help&lt;/code&gt; 获取完整的可用标志列表：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Flags:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -h, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;&lt;span style="color:#204a87"&gt;help&lt;/span&gt; 显示上下文相关帮助（也可尝试 --help-long 和 --help-man）。
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -u, --url&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;URL postgres 目标 URL
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -c, --config&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;CONFIG 配置目录或文件路径
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;web.systemd-socket 使用 systemd socket 激活监听器代替端口监听器（仅限 Linux）。
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --web.listen-address&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;:9630 ...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 暴露指标和 Web 界面的地址。可重复指定多个地址。示例：&lt;span style="color:#4e9a06"&gt;`&lt;/span&gt;:9100&lt;span style="color:#4e9a06"&gt;`&lt;/span&gt; 或 &lt;span style="color:#4e9a06"&gt;`&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;::1&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;:9100&lt;span style="color:#4e9a06"&gt;`&lt;/span&gt; 用于 http，&lt;span style="color:#4e9a06"&gt;`&lt;/span&gt;vsock://:9100&lt;span style="color:#4e9a06"&gt;`&lt;/span&gt; 用于 vsock
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --web.config.file&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;&amp;#34;&lt;/span&gt; 可启用 TLS 或认证的配置文件路径。参见：https://github.com/prometheus/exporter-toolkit/blob/master/docs/web-configuration.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -l, --label&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;&amp;#34;&lt;/span&gt; 常量标签：逗号分隔的 &lt;span style="color:#000"&gt;label&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;value 对列表 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_LABEL&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -t, --tag&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;&amp;#34;&lt;/span&gt; 标签，逗号分隔的服务器标签列表 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_TAG&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -C, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;disable-cache 强制不使用缓存 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_DISABLE_CACHE&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -m, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;disable-intro 禁用导出器内置/自监控指标，仅保留查询指标 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_DISABLE_INTRO&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -a, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;auto-discovery 自动抓取给定服务器的所有数据库 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_AUTO_DISCOVERY&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -x, --exclude-database&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;template0,template1,postgres&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 启用自动发现时排除的数据库 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_EXCLUDE_DATABASE&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -i, --include-database&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;&amp;#34;&lt;/span&gt; 启用自动发现时包含的数据库 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_INCLUDE_DATABASE&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -n, --namespace&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;&amp;#34;&lt;/span&gt; 内置指标的前缀，默认为 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;pg&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;pgbouncer&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt; &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_NAMESPACE&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -f, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;fail-fast 启动时立即失败而不是等待 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_FAIL_FAST&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -T, --connect-timeout&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#0000cf;font-weight:bold"&gt;100&lt;/span&gt; 连接超时（毫秒），默认 &lt;span style="color:#0000cf;font-weight:bold"&gt;100&lt;/span&gt; &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_CONNECT_TIMEOUT&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -P, --web.telemetry-path&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;/metrics&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 暴露指标的 URL 路径 &lt;span style="color:#ce5c00;font-weight:bold"&gt;(&lt;/span&gt;&lt;span style="color:#000"&gt;$PG_EXPORTER_TELEMETRY_PATH&lt;/span&gt;&lt;span style="color:#ce5c00;font-weight:bold"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -D, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;dry-run 干运行并打印原始配置
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -E, --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;explain 解释服务器计划的查询
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --log.level&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;info&amp;#34;&lt;/span&gt; 日志级别：debug&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;info&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;warn&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;error&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --log.format&lt;span style="color:#ce5c00;font-weight:bold"&gt;=&lt;/span&gt;&lt;span style="color:#4e9a06"&gt;&amp;#34;logfmt&amp;#34;&lt;/span&gt; 日志格式：logfmt&lt;span style="color:#000;font-weight:bold"&gt;|&lt;/span&gt;json
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; --&lt;span style="color:#ce5c00;font-weight:bold"&gt;[&lt;/span&gt;no-&lt;span style="color:#ce5c00;font-weight:bold"&gt;]&lt;/span&gt;version 显示应用程序版本
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="环境变量"&gt;环境变量&lt;/h2&gt;
&lt;p&gt;所有命令行参数都有对应的环境变量：&lt;/p&gt;</description></item><item><title>发布注记</title><link>https://pigsty.cc/docs/pg_exporter/release/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://pigsty.cc/docs/pg_exporter/release/</guid><description>&lt;p&gt;&lt;code&gt;pg_exporter&lt;/code&gt; 的最新稳定版本是 &lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.2.0"&gt;v1.2.0&lt;/a&gt;&lt;/p&gt;
&lt;table class="full-width"&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: center"&gt;版本&lt;/th&gt;
 &lt;th style="text-align: center"&gt;日期&lt;/th&gt;
 &lt;th&gt;摘要&lt;/th&gt;
 &lt;th style="text-align: center"&gt;GitHub&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v120"&gt;v1.2.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2026-02-12&lt;/td&gt;
 &lt;td&gt;热重载与非阻塞启动，新增 PG9.1-9.6 legacy 支持&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.2.0"&gt;v1.2.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v112"&gt;v1.1.2&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2026-01-16&lt;/td&gt;
 &lt;td&gt;修复 pg_timeline 配置问题，使用最新依赖构建&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.1.2"&gt;v1.1.2&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v111"&gt;v1.1.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-12-30&lt;/td&gt;
 &lt;td&gt;新增 pg_timeline 采集器，pg_sub_16 分支，Bug 修复&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.1.1"&gt;v1.1.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v110"&gt;v1.1.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-12-15&lt;/td&gt;
 &lt;td&gt;更新默认指标采集器，升级到 Go 1.25.5&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.1.0"&gt;v1.1.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v103"&gt;v1.0.3&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-11-20&lt;/td&gt;
 &lt;td&gt;例行更新到 1.25.4，修复不支持的 libpq 环境变量&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.0.3"&gt;v1.0.3&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v102"&gt;v1.0.2&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-08-14&lt;/td&gt;
 &lt;td&gt;使用 goreleaser 构建更多操作系统架构&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.0.2"&gt;v1.0.2&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v101"&gt;v1.0.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-07-17&lt;/td&gt;
 &lt;td&gt;DockerHub 镜像，Go 1.24.5，禁用 pg_tsdb_hypertable&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.0.1"&gt;v1.0.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v100"&gt;v1.0.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-05-06&lt;/td&gt;
 &lt;td&gt;PostgreSQL 18 支持，新增 WAL/检查点/I/O 指标&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v1.0.0"&gt;v1.0.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v090"&gt;v0.9.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-04-26&lt;/td&gt;
 &lt;td&gt;TimescaleDB、Citus、pg_wait_sampling 采集器&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.9.0"&gt;v0.9.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v081"&gt;v0.8.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-02-14&lt;/td&gt;
 &lt;td&gt;依赖更新，Docker 镜像标签&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.8.1"&gt;v0.8.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v080"&gt;v0.8.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2025-02-14&lt;/td&gt;
 &lt;td&gt;PgBouncer 1.24 支持，Go 1.24，日志重构&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.8.0"&gt;v0.8.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v071"&gt;v0.7.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2024-12-29&lt;/td&gt;
 &lt;td&gt;例行更新，支持 Reader 配置&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.7.1"&gt;v0.7.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v070"&gt;v0.7.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2024-08-13&lt;/td&gt;
 &lt;td&gt;PostgreSQL 17 支持，谓词查询功能&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.7.0"&gt;v0.7.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v060"&gt;v0.6.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2023-10-18&lt;/td&gt;
 &lt;td&gt;PostgreSQL 16 支持，ARM64 包，安全修复&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.6.0"&gt;v0.6.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v050"&gt;v0.5.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2022-04-27&lt;/td&gt;
 &lt;td&gt;RPM/DEB 构建，列缩放，指标增强&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.5.0"&gt;v0.5.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v041"&gt;v0.4.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2022-03-08&lt;/td&gt;
 &lt;td&gt;采集器更新，connect-timeout 参数&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.4.1"&gt;v0.4.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v040"&gt;v0.4.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2021-07-12&lt;/td&gt;
 &lt;td&gt;PostgreSQL 14 支持，自动发现功能&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.4.0"&gt;v0.4.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v032"&gt;v0.3.2&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2021-02-01&lt;/td&gt;
 &lt;td&gt;Shadow DSN 修复，文档更新&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.3.2"&gt;v0.3.2&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v031"&gt;v0.3.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-12-04&lt;/td&gt;
 &lt;td&gt;旧版 PostgreSQL 配置修复&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.3.1"&gt;v0.3.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v030"&gt;v0.3.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-10-29&lt;/td&gt;
 &lt;td&gt;PostgreSQL 13 支持，REST API，虚拟服务器&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.3.0"&gt;v0.3.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v020"&gt;v0.2.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-03-21&lt;/td&gt;
 &lt;td&gt;YUM 包，配置重载支持&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.2.0"&gt;v0.2.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v012"&gt;v0.1.2&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-02-20&lt;/td&gt;
 &lt;td&gt;动态配置重载，批量模式&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.1.2"&gt;v0.1.2&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v011"&gt;v0.1.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-01-10&lt;/td&gt;
 &lt;td&gt;启动挂起 Bug 修复&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.1.1"&gt;v0.1.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v010"&gt;v0.1.0&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2020-01-08&lt;/td&gt;
 &lt;td&gt;首个稳定版本&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.1.0"&gt;v0.1.0&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v004"&gt;v0.0.4&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2019-12-20&lt;/td&gt;
 &lt;td&gt;生产环境测试版本&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.0.4"&gt;v0.0.4&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v003"&gt;v0.0.3&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2019-12-14&lt;/td&gt;
 &lt;td&gt;生产环境测试&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.0.3"&gt;v0.0.3&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v002"&gt;v0.0.2&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2019-12-09&lt;/td&gt;
 &lt;td&gt;早期测试版本&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.0.2"&gt;v0.0.2&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="#v001"&gt;v0.0.1&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: center"&gt;2019-12-06&lt;/td&gt;
 &lt;td&gt;初始版本，支持 PgBouncer 模式&lt;/td&gt;
 &lt;td style="text-align: center"&gt;&lt;a href="https://github.com/pgsty/pg_exporter/releases/tag/v0.0.1"&gt;v0.0.1&lt;/a&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id="v120"&gt;v1.2.0&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;v1.2.0&lt;/code&gt; 是一次聚焦稳定性与兼容性的中版本更新，覆盖启动流程、热重载、健康检查、配置校验与 Legacy 支持。&lt;/p&gt;</description></item></channel></rss>